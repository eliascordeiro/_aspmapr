var He=Object.defineProperty,Ke=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var be=(t,o,r)=>o in t?He(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,m=(t,o)=>{for(var r in o||(o={}))Xe.call(o,r)&&be(t,r,o[r]);if(he)for(var r of he(o))Ze.call(o,r)&&be(t,r,o[r]);return t},F=(t,o)=>Ke(t,Ye(o));import{r as g,R as e,u as O,L as q,a as D,b as C,i as M,c as w,m as te,S as et,d as me,D as tt,e as at,f as rt,T as G,G as ot,g as de,h as Y,w as ae,j as xe,k as ve,C as ye,A as ue,l as lt,I as $,n as nt,o as Ne,M as Ce,p as Se,q as we,s as pe,t as R,v as re,x as oe,P as Ae,K as _e,y as Fe,z as le,B as Ee,E as ke,F as P,H as I,J as ne,N as qe,O as De,Q as z,U as j,V as X,W as Te,X as Me,Y as Ie,Z as st,_ as ct,$ as it,a0 as mt,a1 as k,a2 as dt,a3 as ut,a4 as pt}from"./vendor.69a12ae9.js";const Et=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}};Et();const ge=g.exports.createContext(),gt=t=>{const[o,r]=g.exports.useState("");return e.createElement(ge.Provider,{value:[o,r]},t.children)};const ft=({login:t,submitText:o,submitAction:r})=>{const{register:n,formState:{errors:a},handleSubmit:s}=O({defaultValues:t||{}});return e.createElement("div",null,e.createElement("h2",{style:{textAlign:"center"}},"Identifica\xE7\xE3o"),e.createElement("form",{className:"mt-8 justify-center",onSubmit:s(r)},e.createElement("div",{className:"mt-5 justify-center"},e.createElement("section",{className:"flex flex-col field md:flex-col"},e.createElement("label",{htmlFor:"usuario"},"Usu\xE1rio ou E-Mail"),e.createElement("input",m({type:"text",autoComplete:"off"},n("usuario",{required:!0}))),e.createElement("span",{className:"errors"},a.usuario&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"mt-5 justify-center"},e.createElement("section",{className:"flex flex-col field md:flex-col"},e.createElement("label",{htmlFor:"senha"},"Senha"),e.createElement("input",m({type:"password",autoComplete:"off"},n("senha",{required:!0}))),e.createElement("span",{className:"errors"},a.senha&&"Campo obrigat\xF3rio"))),e.createElement("section",{className:"flex flex-col field lg:flex-row"},e.createElement("div",{className:"mt-2"},e.createElement(q,{to:"esqueceu_senha",className:"btn btn-link pr-0",style:{fontSize:13,fontWeight:"normal"}},"Cadastre-se")),e.createElement("div",{className:"mt-2 lg:mt-2 lg:ml-18"},e.createElement(q,{to:"esqueceu_senha",className:"btn btn-link pr-0",style:{fontSize:13,fontWeight:"normal",marginBottom:20}},"Esqueceu a Senha?"))),e.createElement("section",{className:"flex mt-8 flex-col field md:flex-col"},e.createElement("button",{style:{marginTop:20},className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},o))))},A="http://araudata.com.br/",L={top:"50%",left:"50%",right:"auto",bottom:"auto",borderWidth:2,borderColor:"orange",borderRadius:7,padding:20,backgroundColor:"#e1e5b3"},se={borderWidth:3,borderColor:"orange",borderRadius:4,backgroundColor:"#e1e5b3"},Z=["Cadastros","Movimentos"],H=[["Associados","Conv\xEAniados","Usu\xE1rios"],["Vendas","Baixas"]],Le=[{Associados:"/socios",Conv\u00EAniados:"/socios",Usu\u00E1rios:"/usuarios"},{Vendas:"/socios",Baixas:"/socios"}],Be={Cadastros:!1,Movimentos:!1},Oe={Cadastros:{Associados:!1,Conv\u00EAniados:!1,Usu\u00E1rios:!1},Movimentos:{Vendas:!1,Baixas:!1}},ht=async t=>await(await w.post(A+"login_aspma",{dados:t})).data,bt=()=>{const t=D(l=>ht(l),{onSuccess:l=>{l.msg==="Credenciais inv\xE1lidas!"&&M.info(l.msg,5e3),sessionStorage.setItem("access_token",l.access_token),sessionStorage.setItem("dados",JSON.stringify(l.dados)),sessionStorage.setItem("painel","1")}}),{isLoading:o,isError:r,error:n,isSuccess:a}=t,s=async l=>{t.mutate(l)};return a?sessionStorage.getItem("access_token")!==null&&sessionStorage.getItem("access_token")!=="undefined"?e.createElement(C,{to:"/home"}):e.createElement(C,{to:"/sair"}):e.createElement("div",{className:"justify-center"},e.createElement("h2",{style:{textAlign:"center",color:"#fff",fontSize:20,fontFamily:"serif"}},"ConsigExpress"),e.createElement("h2",{style:{textAlign:"center",marginBottom:10,color:"#fff",fontSize:15,fontFamily:"Arial"}},"Cr\xE9dito Consignado"),e.createElement("div",{className:"flex md justify-center"},e.createElement("div",{style:L},e.createElement(ft,{submitText:"Entrar",submitAction:s}),r&&e.createElement(e.Fragment,null,e.createElement("div",null,e.createElement("label",{style:{color:"purple",textAlign:"center",paddingTop:20}},"Usu\xE1rio n\xE3o encontrato!")),e.createElement("div",{className:"mt-0 justify-center"},e.createElement("section",{className:"flex flex-col field sm:flex-col"},e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn-qr hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>window.location.replace("/")},"Tentar novamente")))),o&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))),e.createElement("div",{className:"mt-2 justify-center"},e.createElement("h6",{style:{textAlign:"center",color:"#fff"}},"araudata servi\xE7os ltda. "),e.createElement("h6",{style:{textAlign:"center",color:"#fff",fontSize:12}},"WhatsApp: (41) 99612-3839 ")))};function T(){return sessionStorage.getItem("access_token")!==null&&sessionStorage.getItem("access_token")!=="undefined"}function $e(){sessionStorage.removeItem("access_token"),sessionStorage.removeItem("dados"),sessionStorage.removeItem("autenticacao")}const xt=()=>{$e(),window.location.replace("/")},vt=te(()=>({dialog:{borderRadius:0},button:{borderRadius:0,textTransform:"none",padding:5},logout:{color:"#fff",backgroundColor:me[500],"&:hover":{backgroundColor:me[700]}},countdown:{color:me[700]}})),yt=e.forwardRef(function(o,r){return e.createElement(et,m({direction:"up",ref:r},o))}),Nt=({open:t,countdown:o,onLogout:r,onContinue:n})=>{const a=vt();return e.createElement(tt,{open:t,classes:{paper:a.dialog},TransitionComponent:yt},e.createElement(at,null,"Aten\xE7\xE3o"),e.createElement(rt,null,e.createElement(G,{variant:"body2"},"Esta sess\xE3o ser\xE1 encerrada em"," ",e.createElement("span",{className:a.countdown},o)," segundos.")))};let ze,je;const Ct=({isAuthenticated:t,logOut:o})=>{const[r,n]=g.exports.useState(!1),[a,s]=g.exports.useState(0),l=g.exports.useRef(null),i=()=>{clearTimeout(je)},c=()=>{clearInterval(ze)},d=async(E=!1)=>{try{n(!1),c(),i(),o()}catch(S){console.error(S)}},y=()=>{n(!1),c(),i()},u=()=>{r||(c(),i())},h=()=>{const E=1e3*1;t&&!r&&(je=setTimeout(()=>{let S=3;n(!0),s(S),ze=setInterval(()=>{S>0?s(--S):d(!0)},1e3)},E))};return e.createElement(e.Fragment,null,e.createElement(ot,{ref:l,onActive:u,onIdle:h,debounce:250,timeout:5e5}),e.createElement(Nt,{countdown:a,onContinue:y,onLogout:()=>d(!1),open:r}))},St=te(t=>({root:{width:"100%",maxWidth:360,backgroundColor:t.palette.background.paper},nested:{paddingLeft:t.spacing(4)},nestedSecondLevel:{paddingLeft:t.spacing(8)}})),wt=()=>{const t=St(),[o,r]=e.useState(!1),n=()=>{r(!o)};g.exports.useState(!1),g.exports.useState(!1);const a=JSON.parse(sessionStorage.getItem("dados")).menu,s=JSON.parse(sessionStorage.getItem("dados")).sub_menu,l=JSON.parse(sessionStorage.getItem("dados")).master,[i,c]=g.exports.useState(!!l),d=u=>{("set"+u)(!u)};if(!i)for(let u=0;u<Z.length;u++){if(a[Z[u]]){c(!0);break}if(u===Z.length-1)return M.info("Usu\xE1rios sem Periss\xF5es!",5e3),e.createElement(C,{to:"/sair"})}const y=()=>e.createElement("div",null,e.Children.toArray(Z.map((u,h)=>e.createElement("div",null,l?e.createElement(Y,{button:!0,onClick:()=>d(u)},e.createElement(ae,{disableTypography:!0,primary:e.createElement(G,{type:"body2",style:{color:"#666",fontWeight:"bold",fontFamily:"Roboto",fontSize:14}},u.toUpperCase())}),u?e.createElement(xe,null):e.createElement(ve,null)):e.createElement(e.Fragment,null,a[u]&&e.createElement(Y,{button:!0,onClick:()=>d(u)},e.createElement(ae,{disableTypography:!0,primary:e.createElement(G,{type:"body2",style:{color:"#666",fontWeight:"bold",fontFamily:"fantasy",fontSize:14}},u.toUpperCase())}),u?e.createElement(xe,null):e.createElement(ve,null))),e.createElement(ye,{in:u,timeout:"auto",unmountOnExit:!0},e.Children.toArray(H[h].map((E,S)=>e.createElement(de,{component:"div",disablePadding:!0},l?e.createElement(q,{to:Le[h][E]},e.createElement(Y,{button:!0,className:t.nested,onClick:n},e.createElement(ae,{disableTypography:!0,primary:e.createElement(G,{type:"body2",style:{color:"teal",fontWeight:"bold",fontFamily:"serif",fontSize:17}},E)}))):e.createElement(e.Fragment,null,s[u][E]&&e.createElement(q,{to:Le[h][E]},e.createElement(Y,{button:!0,className:t.nested,onClick:n},e.createElement(ae,{disableTypography:!0,primary:e.createElement(G,{type:"body2",style:{color:"teal",fontWeight:"bold",fontFamily:"serif",fontSize:17}},E)}))))))))))));return e.createElement(de,{component:"nav","aria-labelledby":"nested-list-subheader",className:t.root},e.createElement(y,null))},At=te(t=>({root:{flexGrow:1},menuButton:{marginRight:t.spacing(1)},title:{flexGrow:1}})),ce=()=>{const t=At(),[o,r]=e.useState(null),[n,a]=e.useState(null),s=Boolean(o),l=Boolean(n),i=h=>{$e(),window.location.replace("/")},c=h=>{r(h.currentTarget)},d=h=>{a(h.currentTarget)},y=()=>{r(null)},u=()=>{a(null)};return e.createElement("div",null,e.createElement("div",{className:t.root},e.createElement(Ct,{isAuthenticated:T(),logOut:i}),e.createElement(ue,{position:"static",style:{backgroundColor:"orange",marginTop:-33}},e.createElement(lt,null,e.createElement($,{style:{outline:"none",border:"none"},edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},e.createElement("div",null,e.createElement(nt,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:d,color:"inherit"},e.createElement(Ne,null)),e.createElement(Ce,{id:"menu-principal",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:l,onClose:u},e.createElement(wt,null)))),e.createElement(G,{variant:"h6",className:t.title},e.createElement(q,{to:"/home",style:{color:"#fff"}},"A.S.P.M.A")),T()&&e.createElement("div",null,e.createElement($,{style:{outline:"none",border:"none"},"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:c,color:"inherit"},e.createElement("h6",{style:{color:"#fff",paddingRight:5,fontFamily:"sans-serif",fontSize:10}},JSON.parse(sessionStorage.getItem("dados")).nome==""?JSON.parse(sessionStorage.getItem("dados")).usuario:JSON.parse(sessionStorage.getItem("dados")).nome),e.createElement(Ne,null)),e.createElement(Ce,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:y},e.createElement(q,{to:"/sair"}," ",e.createElement(Se,{style:{marginLeft:10,marginRight:10}}," ","Dados Pessoais"," ")," "),e.createElement(q,{to:"/sair"}," ",e.createElement(Se,{style:{marginLeft:10,marginRight:10}}," ","Sair do Aplicativo"," ")," ")))))))};var _t="/assets/logo.c22c6213.png";const Ft=()=>T()?e.createElement("div",null,e.createElement("header",null,e.createElement(ce,null)),e.createElement("div",{className:"flex justify-center mt-3"},e.createElement("img",{src:_t}))):e.createElement(C,{to:"/"});function kt(t){return g.exports.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 16 16",height:"1em",width:"1em"},t),g.exports.createElement("path",{fillRule:"evenodd",d:"M7.938 2.016a.146.146 0 00-.054.057L1.027 13.74a.176.176 0 00-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 00.066-.017.163.163 0 00.055-.06.176.176 0 00-.003-.183L8.12 2.073a.146.146 0 00-.054-.057A.13.13 0 008.002 2a.13.13 0 00-.064.016zm1.044-.45a1.13 1.13 0 00-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z",clipRule:"evenodd"}),g.exports.createElement("path",{d:"M7.002 12a1 1 0 112 0 1 1 0 01-2 0zM7.1 5.995a.905.905 0 111.8 0l-.35 3.507a.552.552 0 01-1.1 0L7.1 5.995z"}))}const qt={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(24, 48, 63, 0.79)"}};we.setAppElement("#modal-root");function ie({id:t,showModal:o,deleteAction:r,cancelAction:n}){return e.createElement(we,{style:qt,isOpen:o},e.createElement("div",{className:"flex"},e.createElement("div",{className:"mt-2 text-3xl text-red-700"},e.createElement(kt,{className:""})),e.createElement("div",{className:"ml-8"},e.createElement("h3",{className:"font-semibold text-xl text-gray-900"},"Confirma a Exclus\xE3o"),e.createElement("p",{className:"font-semibold mt-2 text-sm text-gray-500"},"Tem certeza que deseja Excluir"," ",e.createElement("span",{className:"font-bold"},"Usu\xE1rio ",t)," ?"),e.createElement("div",{className:"mt-8 text-right"},e.createElement("button",{className:"border border-gray-200 btn hover:bg-gray-50",onClick:n},"Cancela"),e.createElement("button",{className:"bg-red-600 text-white ml-4 btn hover:bg-red-700",onClick:()=>r(t)},"Delete")))))}function Dt(){return e.createElement(Ae,{className:_e.toolbarContainer},e.createElement(Fe,null))}const Tt=({socios:t})=>{const[o,r]=g.exports.useState(0),[n,a]=g.exports.useState(!1),{data:s}=pe({dataSet:"Commodity",rowLength:6,maxColumns:10});let l=new Date().toLocaleDateString("pt-br",{day:"2-digit",month:"2-digit",year:"numeric"});const i=R(),c=D(p=>w.post(A+"exclui_mysql",{tab:"socios",id:p},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}}),{onSuccess:()=>{i.invalidateQueries(),u(),M.info("Registro exclu\xEDdo com sucesso!",500)}}),d=p=>{r(p),a(!0)},y=async p=>{c.mutateAsync(p)},u=()=>a(!1),h={pathname:"/novo/socio"},E=[{field:"id",headerName:"ID",width:150,hide:!0},{field:"matricula",headerName:"Matr\xEDcula",width:130,editable:!1},{field:"associado",headerName:"Associado",width:400,editable:!1},{field:"bloqueio",headerName:"Bloqueio",width:150,editable:!1},{field:"situacao",headerName:"Situa\xE7\xE3o",width:150,editable:!1},{field:"action",headerName:"A\xE7\xF5es",width:120,disableClickEventBubbling:!0,renderCell:p=>e.createElement("div",null,e.createElement($,{style:{outline:"none",border:"none"},edge:"start",color:"inherit",onClick:_=>{_.ignore=!0}},e.createElement(q,{to:`/editaSocios/${p.id}`},e.createElement(le,null))),e.createElement($,{style:{outline:"none",border:"none"},edge:"start",color:"inherit",onClick:_=>{_.ignore=!0,d(p.id)}},e.createElement(Ee,null)))}],S=t.map((p,_)=>({id:p.id,matricula:p.matricula,associado:p.associado,bloqueio:p.bloqueio,situacao:p.situacao})),b=()=>{const p="pt",_="A4",W="portrait",V=40,B=new ke(W,p,_);B.setFontSize(15);const U="Associados - Data: "+l,J=[["MATRICULA","ASSOCIADO","BLOQUEIO","SITUA\xC7\xC3O"]],N=t.map(x=>[x.matricula,x.associado,x.bloqueio,x.situacao]);let f={startY:50,head:J,body:N};B.text(U,V,40),B.autoTable(f),B.save("associados.pdf")};return e.createElement(e.Fragment,null,e.createElement(ie,{id:o,showModal:n,deleteAction:y,cancelAction:u}),e.createElement("div",{className:"flex mt-2 justify-between"},e.createElement(q,{to:h,className:"px-4 py-1 font-semibold text-purple-200 border-2 border-purple-200 rounded hover:border-2 hover:bg-purple-200 hover:text-black"},"Novo Associado"),e.createElement("button",{className:"px-4 py-1 font-semibold text-purple-200 border-2 border-purple-200 rounded hover:border-2 hover:bg-purple-200 hover:text-black",type:"button",onClick:()=>b()},"Imprimir")),e.createElement("div",{className:"flex mt-2",style:se},e.createElement("div",{style:{height:500,width:"100%"}},e.createElement(re,F(m({},s),{localeText:oe.props.MuiDataGrid.localeText,rows:S,columns:E,checkboxSelection:!1,disableSelectionOnClick:!0,onRowClick:(p,_)=>{_.ignore||console.log("push -> /roles/"+p.id)},components:{Toolbar:Dt}})))))},Mt=15,It=async(t=1)=>{const{data:o}=await w.post(A+"socios_aspma",{_page:t,_limit:Mt},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});return sessionStorage.setItem("categorias",o.categorias),o},Lt=()=>{if(!T())return e.createElement(C,{to:"/"});const[t,o]=g.exports.useState(1),{data:r,isLoading:n,isError:a,status:s,error:l}=P(["socios",t],()=>It(t),{keepPreviousData:!0});return e.createElement("div",null,e.createElement("header",null,e.createElement(ce,null)),e.createElement("div",{style:{marginTop:5}},e.createElement("div",null,n&&e.createElement("div",null,"Aguarde..."),s==="success"&&e.createElement(Tt,{socios:JSON.parse(r.dados)}),a&&e.createElement("div",null,l.message))))},Bt=({dependentes:t,_matricula:o})=>{const[r,n]=g.exports.useState(0),[a,s]=g.exports.useState(!1),l=I(),{data:i}=pe({dataSet:"Commodity",rowLength:4,maxColumns:6});new Date().toLocaleDateString("pt-br",{day:"2-digit",month:"2-digit",year:"numeric"});const c=R(),d=D(b=>w.post(A+"exclui_mysql",{tab:"depende",id:b},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}}),{onSuccess:()=>{c.invalidateQueries(),h(),M.info("Registro exclu\xEDdo com sucesso!",500)}}),y=b=>{n(b),s(!0)},u=async b=>{d.mutateAsync(b)},h=()=>s(!1),E=[{field:"id",headerName:"ID",width:150,hide:!0},{field:"matricula",headerName:"Matr\xEDcula",width:150,editable:!1,hide:!0},{field:"nome",headerName:"Dependente",width:480,editable:!1},{field:"nascimento",headerName:"Nascimento",width:160,editable:!1},{field:"classifica",headerName:"Parentesco",width:160,editable:!1},{field:"action",headerName:"Editar",width:120,disableClickEventBubbling:!0,renderCell:b=>e.createElement("div",null,e.createElement($,{onClick:p=>{p.ignore=!0}},e.createElement(q,{to:`/edita_dependentes/${b.id}`},e.createElement(le,null))),e.createElement($,{onClick:p=>{p.ignore=!0,y(b.id)}},e.createElement(Ee,null)))}],S=t.map((b,p)=>({id:b.id,matricula:b.matricula,nome:b.nome,nascimento:b.nascimento.substr(8,2)+"-"+b.nascimento.substr(5,2)+"-"+b.nascimento.substr(0,4),classifica:b.classifica}));return e.createElement(e.Fragment,null,e.createElement(ie,{id:r,showModal:a,deleteAction:u,cancelAction:h}),e.createElement("div",{className:"flex mt-0 justify-between"},e.createElement(q,{to:`/novo/dependente/${o}`,className:"px-4 py-1 font-semibold text-purple-200 border-2 border-purple-200 rounded hover:border-2 hover:bg-purple-200 hover:text-black"},"Novo Dependente"),e.createElement("button",{className:"px-4 py-1 font-semibold text-purple-200 border-2 border-purple-200 rounded hover:border-2 hover:bg-purple-200 hover:text-black",type:"button",onClick:()=>{sessionStorage.painel="1",l.goBack()}},"Voltar")),e.createElement("div",{className:"flex mt-2",style:se},e.createElement("div",{style:{height:400,width:"100%"}},e.createElement(re,F(m({},i),{localeText:oe.props.MuiDataGrid.localeText,rows:S,columns:E,checkboxSelection:!1,disableSelectionOnClick:!0,onRowClick:(b,p)=>{p.ignore||console.log("push -> /roles/"+b.id)}})))))},Ot=async({queryKey:t})=>{const[o,{matricula:r}]=t,{data:n}=await w.post(A+"dependentes_aspma",{psq:{matricula:r}},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});return n},Re=t=>{if(!T())return e.createElement(C,{to:"/"});const{data:o,error:r,isLoading:n,isError:a,isSuccess:s}=P(["dependentes",{matricula:t}],Ot);return s?e.createElement(Bt,{dependentes:JSON.parse(o.dados),_matricula:t.matricula}):e.createElement("div",null,e.createElement("div",{style:{marginTop:5}},e.createElement("div",null,n&&e.createElement("div",{style:{color:"#fff"}},"Aguarde..."),a&&e.createElement("div",null,r.message))))};function Pe({socios:t,submitAction:o,_tipo:r}){const[n,a]=e.useState(sessionStorage.getItem("painel")),s=(l,i)=>{a(i)};return e.createElement(ne,{sx:{width:"100%",typography:"body1",marginTop:-3}},e.createElement(qe,{value:n},e.createElement(ne,{sx:{borderBottom:1,borderColor:"divider"}},e.createElement(ue,{position:"static",color:"default"},e.createElement(De,{onChange:s,"aria-label":"lab API tabs example"},e.createElement(z,{label:"Dados Pessoais",value:"1"}),e.createElement(z,{label:"Dados Banc\xE1rios",value:"2",disabled:r!=="edita"}),e.createElement(z,{label:"Dependentes",value:"3",disabled:r!=="edita"}),e.createElement(z,{label:"Margem",value:"4",disabled:r!=="edita"}),e.createElement(z,{label:"Bloqueio",value:"5",disabled:r!=="edita"}),e.createElement(z,{label:"Exclus\xE3o",value:"6",disabled:r!=="edita"})))),e.createElement(j,{value:"1"},e.createElement($t,{socios:t,submitAction:o,_tipo:r})),e.createElement(j,{value:"2"},e.createElement(zt,{socios:t,submitAction:o,_tipo:r})),e.createElement(j,{value:"3"},e.createElement(Re,{matricula:r==="edita"?t.matricula:"",submitAction:o,_tipo:r})),e.createElement(j,{value:"4"},e.createElement(jt,{socios:t,submitAction:o,_tipo:r})),e.createElement(j,{value:"5"},e.createElement(Rt,{socios:t,submitAction:o,_tipo:r})),e.createElement(j,{value:"6"},e.createElement(Pt,{socios:t,submitAction:o,_tipo:r}))))}const $t=({socios:t,submitAction:o,_tipo:r})=>{const{control:n,register:a,setFocus:s,formState:{errors:l},handleSubmit:i}=O({defaultValues:t||{}});let c=JSON.parse(sessionStorage.getItem("categorias"));new Date().toLocaleDateString("pt-br",{day:"2-digit",month:"2-digit",year:"numeric"}),g.exports.useState("");const d=I(),[y,u]=g.exports.useState(r==="edita"?t.cpf:""),[h,E]=g.exports.useState(r==="edita"?t.celular:""),[S,b]=g.exports.useState(r==="edita"?t.tipo==="1"?"1":"3":""),[p,_]=g.exports.useState(r==="edita"?t.sexo:""),[W,V]=g.exports.useState(r==="edita"?t.codtipo:""),B=x=>{let v=x.target.value.replace(/\D/g,"");v=v.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"),u(v)},U=x=>{let v=x.target.value;b(v)},J=x=>{let v=x.target.value;_(v)},N=x=>{let v=x.target.value;V(v)},f=x=>{let v=x.target.value.replace(/\D/g,"");v=v.replace(/^0/,""),v.length>11?v=v.replace(/^(\d\d)(\d{5})(\d{4}).*/,"($1) $2-$3"):v.length>7?v=v.replace(/^(\d\d)(\d{5})(\d{0,4}).*/,"($1) $2-$3"):v.length>2?v=v.replace(/^(\d\d)(\d{0,5})/,"($1) $2"):x.target.value.trim()!==""&&(v=v.replace(/^(\d*)/,"($1")),E(v)};return e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:i(o)},e.createElement("section",{className:"flex justify-center "},e.createElement("div",{className:"mt-0 sm:mt-0 w-sm"},e.createElement("label",{htmlFor:"tipo"},"CONSIGNAT\xC1RIA"),e.createElement("select",F(m({},a("tipo",{required:!0})),{value:S,onChange:U}),e.createElement("option",{value:""}),e.createElement("option",{value:"1"},"Prefeitura Municipal de Arauc\xE1ria"),e.createElement("option",{value:"3"},"Fundo de Previd\xEAncia Municipal de Arauc\xE1ria")),e.createElement("span",{className:"errors"},l.tipo&&"Campo obrigat\xF3rio"))),e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"matricula"},"Matr\xEDcula"),e.createElement("input",m({type:"text",autoComplete:"off",maxLength:8,disabled:r==="edita"},a("matricula",{required:!0}))),e.createElement("span",{className:"errors"},l.matricula&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"associado"},"Nome"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("associado",{required:!0}))),e.createElement("span",{className:"errors"},l.associado&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"genero"},"G\xEAnero"),e.createElement("select",F(m({},a("sexo")),{value:p,onChange:J}),e.createElement("option",{value:""}),e.createElement("option",{value:"M"},"MASCULINO"),e.createElement("option",{value:"F"},"FEMININO"))),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4"},e.createElement("label",{htmlFor:"nascimento"},"Nascimento"),e.createElement("input",m({type:"date",autoComplete:"off"},a("nascimento",{required:!0}))),e.createElement("span",{className:"errors"},l.nascimento&&"Campo obrigat\xF3rio"))),e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"cpf"},"Cpf"),e.createElement("input",F(m({type:"text",autoComplete:"off"},a("cpf",{required:!0})),{maxLength:11,value:y,onChange:B})),e.createElement("span",{className:"errors"},l.cpf&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4"},e.createElement("label",{htmlFor:"rg"},"Rg"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("rg",{required:!0}))),e.createElement("span",{className:"errors"},l.rg&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4"},e.createElement("label",{htmlFor:"celular"},"Celular"),e.createElement("input",F(m({type:"text",autoComplete:"off"},a("celular",{required:!0})),{value:h,onChange:f})),e.createElement("span",{className:"errors"},l.celular&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"fone"},"Fone Residencial"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("fone",{required:!1}))),e.createElement("span",{className:"errors"},l.fone&&"Campo obrigat\xF3rio"))),e.createElement("section",{className:"flex flex-col field lg:flex-row"},e.createElement("div",{className:"w-md"},e.createElement("label",{htmlFor:"categoria"},"Categoria"),e.createElement("select",F(m({},a("codtipo")),{value:W,onChange:N}),e.createElement("option",{value:""}),c.map(x=>e.createElement("option",{key:x.codigo,value:x.codigo},x.tipo)))),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"funcao"},"Fun\xE7\xE3o"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("funcao",{required:!1}))),e.createElement("span",{className:"errors"},l.funcao&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4"},e.createElement("label",{htmlFor:"lotacao"},"Lota\xE7\xE3o"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("lotacao",{required:!1}))),e.createElement("span",{className:"errors"},l.lotacao&&"Campo obrigat\xF3rio"))),e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",{className:"w-md"},e.createElement("label",{htmlFor:"cep"},"Cep"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off",maxLength:9},a("cep",{required:!1}))),e.createElement("span",{className:"errors"},l.cep&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"endereco"},"Endere\xE7o"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("endereco",{required:!1}))),e.createElement("span",{className:"errors"},l.endereco&&"Campo obrigat\xF3rio"))),e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",{className:"w-md"},e.createElement("label",{htmlFor:"bairro"},"Bairro"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("bairro",{required:!1}))),e.createElement("span",{className:"errors"},l.bairro&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"cidade"},"Cidade"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("cidade",{required:!1}))),e.createElement("span",{className:"errors"},l.cidade&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"mt-2"},e.createElement("label",{htmlFor:"email"},"E-Mail"),e.createElement("div",null,e.createElement("input",F(m({className:"lowercase",type:"email"},a("email",{required:!1,pattern:/^\S+@\S+$/i})),{autoComplete:"off"}))),e.createElement("span",{className:"errors"},l.email&&l.email.type==="required"&&"Email \xE9 obrigat\xF3rio",l.email&&l.email.type==="pattern"&&"E-Mail inv\xE1lido!")),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",d.goBack()}},"Voltar")))))},zt=({socios:t,submitAction:o,_tipo:r})=>{const{register:n,formState:{errors:a},handleSubmit:s}=O({defaultValues:t||{}}),l=I();return e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:s(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"agencia"},"N\xBA da Ag\xEAncia"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},n("agencia",{required:!1}))),e.createElement("span",{className:"errors"},a.agencia&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"conta"},"N\xBA da Conta"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},n("conta",{required:!1}))),e.createElement("span",{className:"errors"},a.conta&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"mt-2"},e.createElement("label",{htmlFor:"banco"},"Nome do Banco"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},n("banco",{required:!1}))),e.createElement("span",{className:"errors"},a.banco&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",l.goBack()}},"Voltar")))))},jt=({socios:t,submitAction:o})=>{const{register:r,setFocus:n,formState:{errors:a},handleSubmit:s}=O({defaultValues:t||{}}),l=I(),[i,c]=e.useState(""),d=u=>(u=u.toFixed(2)+"",u=u.replace(".",","),u=u.replace(/(\d)(\d{3})(\d{3}),/g,"$1.$2.$3,"),u=u.replace(/(\d)(\d{3}),/g,"$1.$2,"),u),y=u=>{let h=u.target.value.replace(/\D/g,"");h=(h/100).toFixed(2)+"",h=h.replace(".",","),h=h.replace(/(\d)(\d{3})(\d{3}),/g,"$1.$2.$3,"),h=h.replace(/(\d)(\d{3}),/g,"$1.$2,"),c(h)};return e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:s(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"limite"},"Margem consignada"),e.createElement("input",F(m({className:"uppercase",type:"text",autoComplete:"off"},r("limite",{required:!0,value:d(t.limite)})),{value:i,onChange:y})),e.createElement("span",{className:"errors"},a.limite&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",l.goBack()}},"Voltar")))))},Rt=({socios:t,submitAction:o})=>{const{register:r,formState:{errors:n},handleSubmit:a}=O({defaultValues:t||{}}),s=I();return e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:a(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"agencia"},"Bloqueio"),e.createElement("input",m({style:{width:25,height:25,marginTop:10,marginLeft:20},type:"checkbox",autoComplete:"off"},r("bloqueio",{required:!1}))),e.createElement("span",{className:"errors"},n.bloqueio&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"motivo"},"Motivo"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},r("motivo",{required:!1}))),e.createElement("span",{className:"errors"},n.motivo&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",s.goBack()}},"Voltar")))))},Pt=({socios:t,submitAction:o})=>{const{register:r,formState:{errors:n},handleSubmit:a}=O({defaultValues:t||{}}),s=I();return e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:a(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"data_exclusao"},"Data da Exclus\xE3o"),e.createElement("input",m({type:"date",autoComplete:"off"},r("data_exclusao",{required:!1}))),e.createElement("span",{className:"errors"},n.data_exclusao&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"motivo_exclusao"},"Motivo"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},r("motivo_exclusao",{required:!1}))),e.createElement("span",{className:"errors"},n.motivo_exclusao&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",s.goBack()}},"Voltar")))))},Ve=async({queryKey:t})=>{const[o,{id:r}]=t,{data:n}=await w.post(A+"edita_socios",{psq:{id:r}},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});return n},Vt=()=>{if(!T())return e.createElement(C,{to:"/"});const t=R(),{id:o}=X(),{data:r,error:n,isLoading:a,isError:s}=P(["socios",{id:o}],Ve),l=async d=>await(await w.post(A+"altera_socios",{psq:{id:o},dados:d,tab:"socios",acao:"edita"},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})).data,i=D(d=>l(d),{onSuccess:d=>{d.msg&&(M.info(d.msg,500),t.fetchQuery(["socios",{id:o}],Ve))}}),c=async d=>{if(d.bloqueio)try{d.bloqueio="X"}catch{}else try{d.bloqueio="",d.motivo=""}catch{}if(d.limite)try{let y=d.limite;y=y.split(".").join(""),y=y.replace(",","."),d.limite=y}catch{}if(d.data_exclusao==="")try{d.data_exclusao=null}catch{}delete d.id,delete d.matricula,i.mutate(d)};return e.createElement("div",null,s&&e.createElement("div",null,e.createElement("label",{style:{color:"#fff",textAlign:"center",paddingTop:20}},"Erro ao acessar Servidores! Repita o processo.")),a&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."),r&&e.createElement(Pe,{socios:JSON.parse(r.dados),submitAction:c,titulo:"Edita Associados",_tipo:"edita"}))},Ut=async t=>await(await w.post(A+"altera_socios",{dados:t,tab:"socios",acao:"grava"},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})).data,Jt=()=>{if(!T())return e.createElement(C,{to:"/"});const[t,o]=e.useState(""),r=D(c=>Ut(c),{onSuccess:async c=>{c.msg&&(o(c.id),M.info(c.msg,500))}}),{isLoading:n,isError:a,error:s,isSuccess:l}=r,i=async c=>{r.mutate(c)};return l?e.createElement(C,{to:`/editaSocios/${t}`}):e.createElement("div",null,e.createElement(Pe,{submitText:"Salvar",submitAction:i,titulo:"CADASTRO DE ASSOCIADOS",_tipo:"grava"}),a&&e.createElement("div",null,e.createElement("label",{style:{color:"red",textAlign:"center",paddingTop:20}},s.message)),n&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))};function Qt(){return e.createElement(Ae,{className:_e.toolbarContainer},e.createElement(Fe,null))}const Wt=({dados:t})=>{const[o,r]=g.exports.useState(0),[n,a]=g.exports.useState(!1),{data:s}=pe({dataSet:"Commodity",rowLength:4,maxColumns:6});let l=new Date().toLocaleDateString("pt-br",{day:"2-digit",month:"2-digit",year:"numeric"});const i=R(),c=D(p=>w.post(A+"exclui_mysql",{tab:"convenio",id:p},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}}),{onSuccess:()=>{i.invalidateQueries(),u(),M.info("Registro exclu\xEDdo com sucesso!",500)}}),d=p=>{r(p),a(!0)},y=async p=>{c.mutateAsync(p)},u=()=>a(!1),h={pathname:"/novo/convenio"},E=[{field:"id",headerName:"ID",width:150,hide:!0},{field:"codigo",headerName:"C\xF3digo",width:140,editable:!1},{field:"razao_soc",headerName:"Nome / Raz\xE3o Social",width:400,editable:!1},{field:"fantasia",headerName:"Nome Fantasia",width:300,editable:!1},{field:"action",headerName:"A\xE7\xF5es",width:120,disableClickEventBubbling:!0,renderCell:p=>e.createElement("div",null,e.createElement($,{style:{outline:"none",border:"none"},edge:"start",color:"inherit",onClick:_=>{_.ignore=!0}},e.createElement(q,{to:`/editaConvenios/${p.id}`},e.createElement(le,null))),e.createElement($,{style:{outline:"none",border:"none"},edge:"start",color:"inherit",onClick:_=>{_.ignore=!0,d(p.id)}},e.createElement(Ee,null)))}],S=t.map((p,_)=>({id:p.id,codigo:p.codigo,razao_soc:p.razao_soc,fantasia:p.fantasia})),b=()=>{const p="pt",_="A4",W="portrait",V=40,B=new ke(W,p,_);B.setFontSize(15);const U="Conv\xEAniados - Data: "+l,J=[["C\xD3DIGO","NOME / RAZ\xC3O SOCIAL"]],N=t.map(x=>[x.codigo,x.razao_soc]);let f={startY:50,head:J,body:N};B.text(U,V,40),B.autoTable(f),B.save("convenios.pdf")};return e.createElement(e.Fragment,null,e.createElement(ie,{id:o,showModal:n,deleteAction:y,cancelAction:u}),e.createElement("div",{className:"flex mt-2 justify-between"},e.createElement(q,{to:h,className:"px-4 py-1 font-semibold text-purple-200 border-2 border-purple-200 rounded hover:border-2 hover:bg-purple-200 hover:text-black"},"Novo Conv\xEAniado"),e.createElement("button",{className:"px-4 py-1 font-semibold text-purple-200 border-2 border-purple-200 rounded hover:border-2 hover:bg-purple-200 hover:text-black",type:"button",onClick:()=>b()},"Imprimir")),e.createElement("div",{className:"flex mt-2",style:se},e.createElement("div",{style:{height:500,width:"100%"}},e.createElement(re,F(m({},s),{localeText:oe.props.MuiDataGrid.localeText,rows:S,columns:E,checkboxSelection:!1,disableSelectionOnClick:!0,onRowClick:(p,_)=>{_.ignore||console.log("push -> /roles/"+p.id)},components:{Toolbar:Qt}})))))},Gt=async()=>{const{data:t}=await w.post(A+"cria_tabela",{tab:"convenio",ordem:["razao_soc, fantasia"]},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});return t},Ht=()=>{if(!T())return e.createElement(C,{to:"/"});const[t,o]=g.exports.useState(1),{data:r,isLoading:n,isError:a,status:s,error:l}=P(["convenios",t],()=>Gt(),{keepPreviousData:!0});return e.createElement("div",null,e.createElement("header",null,e.createElement(ce,null)),e.createElement("div",{style:{marginTop:5}},e.createElement("div",null,n&&e.createElement("div",null,"Aguarde..."),s==="success"&&e.createElement(Wt,{dados:JSON.parse(r.dados)}),a&&e.createElement("div",null,l.message))))};function Ue({dados:t,submitAction:o,_tipo:r}){const[n,a]=e.useState(sessionStorage.getItem("painel")),s=(l,i)=>{a(i)};return e.createElement(ne,{sx:{width:"100%",typography:"body1",marginTop:-3}},e.createElement(qe,{value:n},e.createElement(ne,{sx:{borderBottom:1,borderColor:"divider"}},e.createElement(ue,{position:"static",color:"default"},e.createElement(De,{onChange:s,"aria-label":"lab API tabs example"},e.createElement(z,{label:"Dados Basicos",value:"1"}),e.createElement(z,{label:"Dados Banc\xE1rios",value:"2",disabled:r!=="edita"}),e.createElement(z,{label:"Bloqueio",value:"3",disabled:r!=="edita"})))),e.createElement(j,{value:"1"},e.createElement(Kt,{dados:t,submitAction:o,_tipo:r})),e.createElement(j,{value:"2"},e.createElement(Yt,{dados:t,submitAction:o,_tipo:r})),e.createElement(j,{value:"3"},e.createElement(Xt,{dados:t,submitAction:o,_tipo:r}))))}const Kt=({dados:t,submitAction:o,_tipo:r})=>{const{control:n,register:a,setFocus:s,formState:{errors:l},handleSubmit:i}=O({defaultValues:t||{}});JSON.parse(sessionStorage.getItem("categorias")),new Date().toLocaleDateString("pt-br",{day:"2-digit",month:"2-digit",year:"numeric"});const c=I();return g.exports.useState(r==="edita"?socios.cpf:""),g.exports.useState(r==="edita"?socios.celular:""),g.exports.useState(r==="edita"?socios.codtipo:""),e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:i(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"codigo"},"C\xF3digo"),e.createElement("input",m({type:"text",autoComplete:"off",maxLength:8,disabled:r==="edita"},a("codigo",{required:!0}))),e.createElement("span",{className:"errors"},l.codigo&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"razao"},"Nome/Raz\xE3o Social"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("razao_soc",{required:!0}))),e.createElement("span",{className:"errors"},l.razao_soc&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4"},e.createElement("label",{htmlFor:"data_cadastro"},"Data Cadastro"),e.createElement("input",m({type:"date",autoComplete:"off"},a("data",{required:!0}))),e.createElement("span",{className:"errors"},l.data&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",c.goBack()}},"Voltar")))))},Yt=({socios:t,submitAction:o,_tipo:r})=>{const{register:n,formState:{errors:a},handleSubmit:s}=O({defaultValues:t||{}}),l=I();return e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:s(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"agencia"},"N\xBA da Ag\xEAncia"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},n("agencia",{required:!1}))),e.createElement("span",{className:"errors"},a.agencia&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"conta"},"N\xBA da Conta"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},n("conta",{required:!1}))),e.createElement("span",{className:"errors"},a.conta&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"mt-2"},e.createElement("label",{htmlFor:"banco"},"Nome do Banco"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},n("banco",{required:!1}))),e.createElement("span",{className:"errors"},a.banco&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",l.goBack()}},"Voltar")))))},Xt=({socios:t,submitAction:o})=>{const{register:r,formState:{errors:n},handleSubmit:a}=O({defaultValues:t||{}}),s=I();return e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:a(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"agencia"},"Bloqueio"),e.createElement("input",m({style:{width:25,height:25,marginTop:10,marginLeft:20},type:"checkbox",autoComplete:"off"},r("bloqueio",{required:!1}))),e.createElement("span",{className:"errors"},n.bloqueio&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4 w-md"},e.createElement("label",{htmlFor:"motivo"},"Motivo"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},r("motivo",{required:!1}))),e.createElement("span",{className:"errors"},n.motivo&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="1",s.goBack()}},"Voltar")))))},fe=async({queryKey:t})=>{const[o,{id:r}]=t,{data:n}=await w.post(A+"edita_convenios",{psq:{id:r}},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});return n},Zt=()=>{if(!T())return e.createElement(C,{to:"/"});const t=R(),{id:o}=X(),{data:r,error:n,isLoading:a,isError:s}=P(["socios",{id:o}],fe),l=D(c=>fe(c),{onSuccess:c=>{c.msg&&(M.info(c.msg,500),t.fetchQuery(["convenios",{id:o}],fe))}}),i=async c=>{delete c.id,delete c.codigo,l.mutate(c)};return e.createElement("div",null,s&&e.createElement("div",null,e.createElement("label",{style:{color:"#fff",textAlign:"center",paddingTop:20}},"Erro ao acessar Servidores! Repita o processo.")),a&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."),r&&e.createElement(Ue,{dados:JSON.parse(r.dados),submitAction:i,titulo:"Edita Conv\xEAnios",_tipo:"edita"}))},ea=async t=>await(await w.post(A+"altera_socios",{dados:t,tab:"convenio",acao:"grava"},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})).data,ta=()=>{if(!T())return e.createElement(C,{to:"/"});const[t,o]=e.useState(""),r=D(c=>ea(c),{onSuccess:async c=>{c.msg&&(o(c.id),M.info(c.msg,500))}}),{isLoading:n,isError:a,error:s,isSuccess:l}=r,i=async c=>{r.mutate(c)};return l?e.createElement(C,{to:`/editaConvenios/${t}`}):e.createElement("div",null,e.createElement(Ue,{submitText:"Salvar",submitAction:i,titulo:"CADASTRO DE CONV\xCANIOS",_tipo:"grava"}),a&&e.createElement("div",null,e.createElement("label",{style:{color:"red",textAlign:"center",paddingTop:20}},s.message)),n&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))};function aa(t){return g.exports.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 1024 1024",height:"1em",width:"1em"},t),g.exports.createElement("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),g.exports.createElement("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}))}function ra({message:t}){const[o,r]=g.exports.useContext(ge);return e.createElement("div",{className:"border rounded flex bg-lime-100 border-lime-800 px-2 text-lime-800 justify-between items-center"},e.createElement("span",{className:"font-bold py-1"},"Aten\xE7\xE3o: \xA0")," ",t,e.createElement("button",{className:"rounded mt-1 ml-8 p-1 text-green-800 hover:bg-green-200",onClick:()=>r("")},e.createElement(aa,null)))}const oa=({usuarios:t})=>{const[o,r]=g.exports.useState(0),[n,a]=g.exports.useState(!1),[s,l]=g.exports.useContext(ge),i=R(),c=D(E=>w.post(A+"exclui_usuario",{tb:"usuarios_aspma",psq:{_id:E}},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}}),{onSuccess:()=>{i.invalidateQueries(),l("Registro Exclu\xEDdo!"),y()}}),d=async E=>{c.mutateAsync(E)},y=()=>a(!1),u=[{field:"_id",headerName:"ID",width:150,hide:!0},{field:"nome",headerName:"Nome",width:280,editable:!1},{field:"usuario",headerName:"Usu\xE1rio",width:150,editable:!1},{field:"email",headerName:"E-Mail",width:280,editable:!1},{field:"celular",headerName:"celular",width:150,editable:!1},{field:"action",headerName:"A\xE7\xF5es",width:120,disableClickEventBubbling:!0,renderCell:E=>e.createElement("div",null,e.createElement($,{onClick:S=>{S.ignore=!0}},e.createElement(q,{to:`/editaUsuarios/${E.id}`},e.createElement(le,{style:{color:"#777"}}))))}],h=t.map((E,S)=>({_id:E._id.$oid,nome:E.nome.toUpperCase(),usuario:E.usuario.toLowerCase(),email:E.email,celular:E.celular}));return e.createElement(e.Fragment,null,e.createElement(ie,{id:o,showModal:n,deleteAction:d,cancelAction:y}),e.createElement("div",{className:"flex items-center justify-between mb-2 mt-2"},e.createElement(q,{to:"/user/novo",className:"px-4 py-1 font-semibold text-purple-200 border-2 border-purple-200 rounded hover:border-2 hover:bg-purple-200 hover:text-black"},"Novo Usu\xE1rio"),s&&e.createElement(ra,{message:s})),e.createElement("div",{style:se},e.createElement("div",{style:{height:480,width:"100%"}},e.createElement(re,{localeText:oe.props.MuiDataGrid.localeText,getRowId:E=>E._id,rows:h,columns:u,pageSize:6,checkboxSelection:!1,autoPageSize:!0,disableSelectionOnClick:!0,onRowClick:(E,S)=>{S.ignore||console.log("push -> /roles/"+E.id)}}))))},la=()=>{if(!T())return e.createElement(C,{to:"/"});const t=async()=>{const{data:c}=await w.post(A+"lista_mongo_aspma_usuarios",{tb:"usuarios_aspma"},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});if(!c)throw new Error(c.statusText);return c},[o,r]=g.exports.useState(1),{data:n,isLoading:a,isError:s,status:l,error:i}=P(["usuarios",o],()=>t(),{keepPreviousData:!0});return e.createElement("div",null,e.createElement("header",null,e.createElement(ce,null)),e.createElement("div",{style:{marginTop:5}},e.createElement("div",null,a&&e.createElement("div",null,"Aguarde..."),l==="success"&&e.createElement(oa,{usuarios:JSON.parse(n.dados)}),s&&e.createElement("div",null,i.message))))},na=te(t=>({root:{width:"100%",maxWidth:360,backgroundColor:t.palette.background.paper},nested:{paddingLeft:t.spacing(4)},nestedSecondLevel:{paddingLeft:t.spacing(8)}})),Je=({usuarios:t,submitText:o,submitAction:r,tipo:n})=>{const{register:a,setFocus:s,formState:{errors:l},handleSubmit:i}=O({defaultValues:t||{}});na(),new Date().toLocaleDateString("pt-br",{day:"2-digit",month:"2-digit",year:"numeric"});const c=I(),[d,y]=g.exports.useState(n==="edita"?t.cpf_cnpj:""),[u,h]=g.exports.useState(n==="edita"?t.celular:""),[E,S]=g.exports.useState(JSON.parse(JSON.stringify(n==="edita"&&t.menu?t.menu:Be))),[b,p]=g.exports.useState(JSON.parse(JSON.stringify(n==="edita"&&t.sub_menu?t.sub_menu:Oe))),[_,W]=g.exports.useState(n==="edita"?!!t.master:!1),V=(N,f,x)=>{let v=E;v[N]=!f,S(Q=>m({},Q));for(let Q=0;Q<H[x].length;Q++){let ee=H[x][Q];b[N][ee]=!f}},B=(N,f,x,v)=>{let Q=b[N];Q[f]=!x,p(K=>m({},K));var ee=0;for(let K=0;K<H[v].length;K++){let Ge=H[v][K];b[N][Ge]===!0&&ee++}ee>0?E[N]=!0:E[N]=!1},U=N=>{let f=N.target.value.replace(/\D/g,"");f.length<=11?f=f.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/g,"$1.$2.$3-$4"):f=f.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/g,"$1.$2.$3/$4-$5"),y(f)},J=N=>{let f=N.target.value.replace(/\D/g,"");f=f.replace(/^0/,""),f.length>11?f=f.replace(/^(\d\d)(\d{5})(\d{4}).*/,"($1) $2-$3"):f.length>7?f=f.replace(/^(\d\d)(\d{5})(\d{0,4}).*/,"($1) $2-$3"):f.length>2?f=f.replace(/^(\d\d)(\d{0,5})/,"($1) $2"):N.target.value.trim()!==""&&(f=f.replace(/^(\d*)/,"($1")),h(f)};return e.createElement("form",{className:"max-w-lg mt-4",onSubmit:i(r)},e.createElement("section",{className:"flex flex-col field lg:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"cpf_cnpj"},"CPF/CNPJ"),e.createElement("input",F(m({type:"text",autoComplete:"off"},a("cpf_cnpj",{required:!0})),{maxLength:18,value:d,onChange:U})),e.createElement("span",{className:"errors"},l.cpf_cnpj&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 lg:mt-0 lg:ml-4"},e.createElement("label",{htmlFor:"nome"},"Nome do Usu\xE1rio"),e.createElement("input",m({type:"text",placeholder:"Exemplo: Jos\xE9 da Silva",autoComplete:"off"},a("nome",{required:!0}))),e.createElement("span",{className:"errors"},l.nome&&"Campo obrigat\xF3rio"))),e.createElement("section",{className:"flex flex-col field lg:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"usuario"},"Usu\xE1rio (Apelido)"),e.createElement("input",m({type:"text",placeholder:"Exemplo: tiopatinhas, zecarioca",autoComplete:"off"},a("usuario",{required:!0}))),e.createElement("span",{className:"errors"},l.usuario&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 lg:mt-0 lg:ml-4"},e.createElement("label",{htmlFor:"celular",style:{color:"teal"}},"Celular"),e.createElement("input",F(m({type:"text",autoComplete:"off"},a("celular",{required:!0})),{value:u,onChange:J})),e.createElement("span",{className:"errors"},l.celular&&"Campo obrigat\xF3rio"))),e.createElement("div",null,e.createElement("label",{htmlFor:"email"},"E-Mail"),e.createElement("input",F(m({type:"email"},a("email",{required:!0,pattern:/^\S+@\S+$/i})),{autoComplete:"off"})),e.createElement("span",{className:"errors"},l.email&&l.email.type==="required"&&"Email \xE9 obrigat\xF3rio",l.email&&l.email.type==="pattern"&&"E-Mail inv\xE1lido!")),e.createElement("input",m({type:"hidden"},a("menu",{value:E}))),e.createElement("input",m({type:"hidden"},a("sub_menu",{value:b}))),!_&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex mt-4 justify-center"},e.createElement("h2",null,"Permiss\xF5es")),e.createElement("section",{className:"flex flex-col field lg:flex-row"},e.Children.toArray(Z.map((N,f)=>e.createElement("div",null,e.createElement(Y,null,e.createElement(Te,{style:{color:"#000"},control:e.createElement(Me,{style:{color:Ie[600]},checked:E[N],value:E[N],onChange:()=>V(N,E[N],f)}),label:N.toUpperCase()})),e.createElement("div",{style:{marginLeft:15}},e.createElement(ye,{in:!0,timeout:"auto",unmountOnExit:!0},e.Children.toArray(H[f].map((x,v)=>e.createElement(de,{component:"div",disablePadding:!0},e.createElement(Te,{control:e.createElement(Me,{style:{color:Ie[600]},checked:b[N][x],value:b[N][x],onChange:()=>B(N,x,b[N][x],f)}),label:x}))))))))))),e.createElement("div",{className:"flex mt-8 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},o),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>c.goBack()},"Voltar")))},sa=async t=>await(await w.post(A+"insert_usuario_mongo_aspma",{tb:"usuarios_aspma",dados:t},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})).data,ca=()=>{if(!T())return e.createElement(C,{to:"/"});const t=D(l=>sa(l),{onSuccess:l=>{l.msg&&M.info(l.msg,500)}}),{isLoading:o,isError:r,error:n,isSuccess:a}=t,s=async l=>{t.mutate(l)};return a?e.createElement(C,{to:"/usuarios"}):e.createElement("div",null,e.createElement("h2",{style:{textAlign:"center",marginTop:-30,color:"#fff"}},"CADASTRO DE USU\xC1RIOS"),e.createElement("div",{className:"flex md justify-center mt-2"},e.createElement("div",{style:L},e.createElement(Je,{submitText:"Salvar",submitAction:s,titulo:"Novo Usu\xE1rio",tipo:"grava"}),r&&e.createElement("div",null,e.createElement("label",{style:{color:"red",textAlign:"center",paddingTop:20}},n.message)),o&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))))},ia=()=>{if(!T())return e.createElement(C,{to:"/"});const t=async({queryKey:u})=>{const[h,{id:E,email:S}]=u,{data:b}=await w.post(A+"edita_mongo_aspma",{tb:"usuarios_aspma",psq:{_id:E}},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});return b},{id:o,email:r}=X(),n=R(),{data:a,error:s,isLoading:l,isError:i}=P(["usuarios",{id:o,email:r}],t),c=D(u=>w.post(A+"salva_mongo_aspma",{tb:"usuarios_aspma",psq:{_id:o},dados:u},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})),{isSuccess:d}=c,y=async u=>{delete u._id,delete u.senha,c.mutate(u)};return d?(n.fetchQuery(["usuarios",{id:o}],t),e.createElement(C,{to:"/usuarios"})):e.createElement("div",null,e.createElement("h2",{style:{textAlign:"center",marginTop:-30}},"EDI\xC7\xC3O DE USU\xC1RIOS"),e.createElement("div",{className:"flex md justify-center mt-2"},e.createElement("div",{style:L},a&&e.createElement(Je,{usuarios:JSON.parse(a.dados),submitText:"Salvar",submitAction:y,tipo:"edita"}),i&&e.createElement("div",null,e.createElement("label",{style:{color:"red",textAlign:"center",paddingTop:20}},s.message)),l&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))))},Qe=({dependentes:t,submitAction:o,_tipo:r,open:n})=>{const{register:a,setFocus:s,formState:{errors:l},handleSubmit:i}=O({defaultValues:t||{}}),c=I();return i(d=>o(F(m({},d),{matricula:t.matricula}))),e.createElement("div",{className:"flex md justify-center mt-0"},e.createElement("div",{style:L},e.createElement("form",{className:"max-w-4xl mt-0",onSubmit:i(o)},e.createElement("section",{className:"flex flex-col field md:flex-row"},e.createElement("div",null,e.createElement("label",{htmlFor:"nome"},"Dependente"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("nome",{required:!1}))),e.createElement("span",{className:"errors"},l.nome&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"mt-2 md:mt-0 md:ml-4"},e.createElement("label",{htmlFor:"nascimento"},"Nascimento"),e.createElement("input",m({type:"date",autoComplete:"off"},a("nascimento",{required:!0}))),e.createElement("span",{className:"errors"},l.nascimento&&"Campo obrigat\xF3rio"))),e.createElement("div",{className:"mt-2"},e.createElement("label",{htmlFor:"parentesco"},"Parentesco"),e.createElement("input",m({className:"uppercase",type:"text",autoComplete:"off"},a("classifica",{required:!1}))),e.createElement("span",{className:"errors"},l.classifica&&"Campo obrigat\xF3rio")),e.createElement("div",{className:"flex mt-4 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit",onClick:()=>{sessionStorage.painel="3",c.goBack()}},"Salvar"),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{sessionStorage.painel="3",c.goBack()}},"Voltar")))))},We=async({queryKey:t})=>{const[o,{id:r}]=t,{data:n}=await w.post(A+"edita_dependentes_aspma",{psq:{id:r}},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}});return n},ma=()=>{if(!T())return e.createElement(C,{to:"/"});const t=R(),{id:o}=X(),{data:r,error:n,isLoading:a,isError:s}=P(["dependentes",{id:o}],We),l=async d=>await(await w.post(A+"altera_socios",{psq:{id:o},dados:d,tab:"depende",acao:"edita"},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})).data,i=D(d=>l(d),{onSuccess:d=>{d.msg&&(M.info(d.msg,500),t.fetchQuery(["dependentes",{id:o}],We))}}),c=async d=>{delete d.id,delete d.matricula,i.mutate(d)};return e.createElement("div",null,s&&e.createElement("div",null,e.createElement("label",{style:{color:"purple",textAlign:"center",paddingTop:20}},"Erro ao acessar Servidores! Repita o processo.")),a&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."),r&&e.createElement(Qe,{dependentes:JSON.parse(r.dados),submitAction:c,titulo:"Edita Dependentes",_tipo:"edita"}))},da=async t=>await(await w.post(A+"altera_socios",{dados:t,tab:"depende",acao:"grava"},{headers:{Authorization:"Bearer "+sessionStorage.getItem("access_token")}})).data,ua=()=>{if(!T())return e.createElement(C,{to:"/"});const{matricula:t}=X(),o=D(i=>da(i),{onSuccess:i=>{i.msg&&M.info(i.msg,500)}}),{isLoading:r,isError:n,error:a,isSuccess:s}=o,l=async i=>{var c=Object.assign({matricula:t},i);o.mutate(c)};return e.createElement("div",{className:"flex md justify-center mt-2"},e.createElement(Qe,{submitText:"Salvar",submitAction:l,titulo:"Novo Dependente",_tipo:"grava"}),n&&e.createElement("div",null,e.createElement("label",{style:{color:"red",textAlign:"center",paddingTop:20}},a.message)),r&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))},pa=({user:t,submitText:o,submitAction:r,titulo:n})=>{const{register:a,formState:{errors:s},handleSubmit:l}=O({defaultValues:t||{}}),i=I();return e.createElement("div",null,e.createElement("h2",{style:{textAlign:"center"}},n),e.createElement("form",{className:"max-w-md mt-3",onSubmit:l(r)},e.createElement("p",{style:{textAlign:"center",fontSize:13}},"Ser\xE1 enviado um c\xF3digo em seu E-Mail informe-o na pr\xF3xima etapa."),e.createElement("div",{className:"mt-3"},e.createElement("label",{htmlFor:"email"},"E-Mail"),e.createElement("input",F(m({type:"email"},a("email",{required:!0,pattern:/^\S+@\S+$/i})),{autoComplete:"off"})),e.createElement("span",{className:"errors"},s.email&&s.email.type==="required"&&"Email \xE9 obrigat\xF3rio",s.email&&s.email.type==="pattern"&&"E-Mail inv\xE1lido!")),e.createElement("div",{className:"flex mt-8 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},o),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>i.goBack()},"Voltar"))))},Ea=async t=>await(await w.post(A+"envia_email_esqueceu_aspma",{dados:t})).data,ga=()=>{const t=D(l=>Ea(l)),{isLoading:o,isError:r,error:n,isSuccess:a}=t,s=async l=>{t.mutate(l)};return a?e.createElement(C,{to:{pathname:"/confirma_senha_esqueceu",state:t.data.msg}}):e.createElement("div",{className:"justify-center"},e.createElement("div",{className:"flex md justify-center"},e.createElement("div",{style:L},e.createElement(pa,{submitText:"Confirmar",submitAction:s,titulo:"Cadastra/Altera Senha"}),r&&e.createElement("div",null,e.createElement("label",{style:{color:"purple",textAlign:"center",paddingTop:20}},"Opera\xE7\xE3o n\xE3o conclu\xEDda... Tente novamente!")),o&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))))},fa=({nova_senha:t,submitText:o,submitAction:r})=>{const{register:n,formState:{errors:a},handleSubmit:s}=O({defaultValues:t||{}}),l=I(),i=()=>{let c="/";l.push(c)};return e.createElement(e.Fragment,null,e.createElement("div",{className:"flex mt-0 justify-center"},e.createElement("form",{className:"max-w-md mt-0",onSubmit:s(r)},e.createElement("div",{className:"mt-3"},e.createElement("label",{htmlFor:"nova_senha"},"Senha (Min. 6 d\xEDgitos)"),e.createElement("input",F(m({type:"text"},n("nova_senha",{required:!0,minLength:6})),{autoComplete:"off"})),e.createElement("span",{className:"errors"},a.nova_senha&&a.nova_senha.type==="required"&&"Nova senha \xE9 Obrigat\xF3rio!",a.nova_senha&&a.nova_senha.type==="minLength"&&"Senha exige 6 d\xEDgitos!")),e.createElement("div",{className:"mt-3"},e.createElement("label",{htmlFor:"conf_senha"},"Confirme a Senha"),e.createElement("input",F(m({type:"text"},n("conf_senha",{required:!0,minLength:6})),{autoComplete:"off"})),e.createElement("span",{className:"errors"},a.conf_senha&&a.conf_senha.type==="required"&&"Repetir Nova senha \xE9 Obrigat\xF3rio!",a.conf_senha&&a.conf_senha.type==="minLength"&&"Repetir Nova Senha exige 6 d\xEDgitos!")),e.createElement("div",{className:"mt-3"},e.createElement("label",{htmlFor:"codigo_seguranca"},"C\xF3digo enviado para o E-Mail"),e.createElement("input",F(m({type:"text"},n("codigo_seguranca",{required:!0})),{autoComplete:"off"})),e.createElement("span",{className:"errors"},a.codigo_seguranca&&"Campo \xE9 obrigat\xF3rio")),e.createElement("div",{className:"flex mt-8 justify-between"},e.createElement("button",{className:"bg-teal-800 border-teal-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-teal-900",type:"submit"},o),e.createElement("button",{className:"border-2 border-gray-600 shadow-md text-white text-gray-600 btn hover:bg-gray-600 hover:text-gray-100",type:"button",onClick:()=>{i()}},"Voltar")))))},ha=async t=>await(await w.post(A+"altera_senha_esqueceu_aspma",{dados:t})).data,ba=()=>{const t=st();if(t.state===void 0)return e.createElement(C,{to:"/"});const o=D(i=>ha(i),{onSuccess:i=>{M.info(i.msg,3e3)}}),{isLoading:r,isError:n,error:a,isSuccess:s}=o,l=async i=>{i.nova_senha!==i.conf_senha?M.info("(Nova senha) - (Confirma nova senha) : N\xE3o conferem!",3e3,()=>{}):o.mutate(i)};return s?e.createElement(C,{to:"/"}):e.createElement("div",{className:"justify-center"},e.createElement("h2",{style:{textAlign:"center"}},"INCLUS\xC3O/ALTERA\xC7\xC3O DE SENHA"),e.createElement("div",{className:"flex md justify-center mt-4"},e.createElement("div",{style:L},t.state==="ok"?e.createElement(fa,{submitText:"Confirmar",submitAction:l}):e.createElement(xa,{msg:t.state}),n&&e.createElement("div",null,e.createElement("label",{style:{color:"purple",textAlign:"center",paddingTop:20}},a.message)),r&&e.createElement("div",{style:{textAlign:"center",paddingTop:20}},"Aguarde..."))))},xa=({msg:t})=>{const o=I(),r=()=>{let n="/";o.push(n)};return e.createElement("div",null,e.createElement("h2",{style:{textAlign:"center"}},"Falha no Envio"),e.createElement("div",{className:"flex mt-2 justify-center"},e.createElement("form",{className:"max-w-lg mt-2"},e.createElement("section",{className:"field max-w-lg"},e.createElement("div",null,e.createElement("h3",{style:{color:"#333"}},t))),e.createElement("div",{style:{textAlign:"center"},className:"mt-8 justify-center"},e.createElement("button",{className:"bg-red-800 border-red-800 shadow-md text-white btn hover:bg-gray-100 hover:border-2 hover:text-red-900",type:"button",onClick:()=>r()},"Voltar")))))};function va(){const t=new ct;return e.createElement(e.Fragment,null,e.createElement("main",{className:"container p-4 mx-auto mt-8 lg:w-screen-lg"},e.createElement(it,{client:t},e.createElement(gt,null,e.createElement(mt,null,e.createElement(k,{path:"/",exact:!0},e.createElement(bt,null)),e.createElement(k,{path:"/sair"},e.createElement(xt,null)),e.createElement(k,{path:"/home"},e.createElement(Ft,null)),e.createElement(k,{path:"/socios"},e.createElement(Lt,null)),e.createElement(k,{path:"/novo/socio"},e.createElement(Jt,null)),e.createElement(k,{path:"/editaSocios/:id"},e.createElement(Vt,null)),e.createElement(k,{path:"/dependentes"},e.createElement(Re,null)),e.createElement(k,{path:"/novo/dependente/:matricula"},e.createElement(ua,null)),e.createElement(k,{path:"/edita_dependentes/:id"},e.createElement(ma,null)),e.createElement(k,{path:"/convenios"},e.createElement(Ht,null)),e.createElement(k,{path:"/novo/convenio"},e.createElement(ta,null)),e.createElement(k,{path:"/editaConvenios/:id"},e.createElement(Zt,null)),e.createElement(k,{path:"/usuarios"},e.createElement(la,null)),e.createElement(k,{path:"/user/novo"},e.createElement(ca,null)),e.createElement(k,{path:"/editaUsuarios/:id"},e.createElement(ia,null)),e.createElement(k,{path:"/esqueceu_senha"},e.createElement(ga,null)),e.createElement(k,{path:"/confirma_senha_esqueceu"},e.createElement(ba,null)))),e.createElement(dt.exports.ReactQueryDevtools,{initialIsOpen:!1}))))}ut.render(e.createElement(e.StrictMode,null,e.createElement(pt,null,e.createElement(va,null))),document.getElementById("root"));
